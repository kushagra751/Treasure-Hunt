<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Treasure Hunt Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <header>
        <h1>Treasure Hunt Game</h1>
        <p>ðŸ’Ž for treasure, ðŸ’€ for traps, ðŸŒ¿ for empty spots</p>
    </header>

    <section class="game-board" id="game-board"></section>

    <button id="restart-button" onclick="initGame()">Restart Game</button>

    <!-- About Developer Section -->
    <footer>
        <div class="about-developer">
            <h2>About the Developer</h2>
            <p>Created by Kushagra, passionate about web development and gaming. Connect with me:</p>
            <div class="social-links">
                <a href="https://github.com/kushagra751" target="_blank" title="GitHub">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="GitHub Logo">
                </a>
                <a href="https://www.instagram.com/kush18._/" target="_blank" title="Instagram">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram Logo">
                </a>
            </div>
        </div>
    </footer>

    <script>
        const boardSize = 5;
        const treasures = 3;
        const traps = 3;
        let board = [];

        function initGame() {
            board = Array.from({ length: boardSize }, () => Array(boardSize).fill('ðŸŒ¿'));
            placeRandomItems('ðŸ’Ž', treasures);
            placeRandomItems('ðŸ’€', traps);
            renderBoard();
        }

        function placeRandomItems(item, count) {
            let placed = 0;
            while (placed < count) {
                const x = Math.floor(Math.random() * boardSize);
                const y = Math.floor(Math.random() * boardSize);
                if (board[x][y] === 'ðŸŒ¿') {
                    board[x][y] = item;
                    placed++;
                }
            }
        }

        function renderBoard() {
            const gameBoard = document.getElementById("game-board");
            gameBoard.innerHTML = '';
            board.forEach((row, x) => {
                row.forEach((cell, y) => {
                    const cellDiv = document.createElement("div");
                    cellDiv.classList.add("cell");
                    cellDiv.innerText = cell === 'ðŸŒ¿' ? 'â”' : cell;
                    cellDiv.onclick = () => revealCell(x, y);
                    gameBoard.appendChild(cellDiv);
                });
            });
        }

        function revealCell(x, y) {
            const cell = board[x][y];
            if (cell === 'ðŸ’Ž') {
                alert("You found a treasure! ðŸŽ‰");
            } else if (cell === 'ðŸ’€') {
                alert("Oh no, it's a trap! ðŸ’¥");
            }
            board[x][y] = cell; 
            renderBoard();
        }

        window.onload = initGame;
    </script>
</body>
</html>


